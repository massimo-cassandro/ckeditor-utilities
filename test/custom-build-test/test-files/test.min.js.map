{"version":3,"file":"test.min.js","sources":["../../../src/js/create-custom-editor-options.js","../../../node_modules/@massimo-cassandro/js-utilities/src/text-utilities.js","../../../src/ckeditor-loader.js","test.js","../../../src/js/istance-setup.js","../../../node_modules/@massimo-cassandro/js-utilities/src/unique-id.js","../../../src/ckeditor-form-check.js"],"sourcesContent":["\nconst std_toolbar = [\n    'heading',\n    '|',\n    'bold',\n    'italic',\n    'link',\n    '|',\n    'alignment:left', 'alignment:center', 'alignment:right', 'alignment:justify',\n    '|',\n    'outdent', 'indent',\n    '|',\n    'bulletedList',\n    'numberedList',\n    '|',\n    'imageUpload',\n    'blockQuote',\n    'insertTable',\n    'undo',\n    'redo'\n  ],\n\n  lite_toolbar = [\n    'heading',\n    '|',\n    'bold',\n    'italic',\n    'link',\n    '|',\n    'alignment:left', 'alignment:center', 'alignment:right', 'alignment:justify',\n    '|',\n    'outdent', 'indent',\n    '|',\n    'bulletedList',\n    'numberedList',\n    '|',\n    //'imageUpload',\n    'blockQuote',\n    'insertTable',\n    'undo',\n    'redo'\n  ],\n\n  xlite_toolbar = [\n    'heading',\n    '|',\n    'bold',\n    'italic',\n    'link',\n    '|',\n    'alignment:left', 'alignment:center', 'alignment:right', 'alignment:justify',\n    '|',\n    'outdent', 'indent',\n    '|',\n    'bulletedList',\n    'numberedList',\n    '|',\n    //'imageUpload',\n    'blockQuote',\n    //'insertTable',\n    'undo',\n    'redo'\n  ],\n\n  xxlite_toolbar = [\n    // 'heading',\n    // '|',\n    'bold',\n    'italic',\n    'link',\n    '|',\n    'alignment:left', 'alignment:center', 'alignment:right',\n    // '|',\n    // 'outdent', 'indent',\n    // '|',\n    // 'bulletedList',\n    // 'numberedList',\n    '|',\n    // 'imageUpload',\n    // 'blockQuote',\n    // 'insertTable',\n    'undo',\n    'redo'\n  ],\n\n  xxxlite_toolbar = [\n    'bold',\n    'italic',\n    'link'\n  ],\n\n  img_plugins = ['mUploadAdapter', 'ImageUpload', 'Image', 'ImageToolbar', 'ImageStyle', 'ImageUpload', 'ImageCaption', 'ImageResize'],\n  table_plugins = ['insertTable', 'Table', 'TableToolbar', 'TableProperties', 'TableCellProperties'],\n  headings_plugins = ['Heading'];\n\n\nexport function create_custom_editor_options(dom_element, loader_opts) {\n\n  let options = {\n    uploaderUrl    : loader_opts.upl_url,\n    uploadMaxSize  : 4 * 1024 * 1024,\n    imgViewer      : loader_opts.img_viewer,\n    toolbar        : std_toolbar\n  };\n\n  // max size da attributo data\n  if(dom_element.dataset.ckeUplMaxSize) { // in bytes\n    options.uploadMaxSize = dom_element.dataset.ckeUplMaxSize;\n  }\n\n  // https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/configuration.html#removing-features\n  if (dom_element.classList.contains('editor-lite')) {\n    options = {\n      toolbar: lite_toolbar,\n      removePlugins: img_plugins,\n    };\n  } else if(dom_element.classList.contains('editor-xlite')) {\n    options = {\n      toolbar: xlite_toolbar,\n      removePlugins: img_plugins.concat(table_plugins),\n    };\n  } else if(dom_element.classList.contains('editor-xxlite')) {\n    options = {\n      toolbar: xxlite_toolbar,\n      removePlugins: img_plugins.concat(table_plugins, headings_plugins,\n        ['BlockQuote', 'List', 'Indent', 'IndentBlock']),\n    };\n  } else if(dom_element.classList.contains('editor-xxxlite')) {\n    options = {\n      toolbar: xxxlite_toolbar,\n      removePlugins: img_plugins.concat(table_plugins, headings_plugins,\n        ['BlockQuote', 'List', 'Indent', 'IndentBlock']),\n    };\n  }\n\n  if(dom_element.classList.contains('editor-no-headings')) {\n    options.toolbar = options.toolbar.filter(item => item !== 'heading');\n    options.removePlugins = (options.removePlugins??[]).concat(headings_plugins);\n  }\n\n  // rimozione eventuali separatori all'inizio e alla fine\n  if(options.toolbar[0] === '|') {\n    options.toolbar = options.toolbar.slice(1);\n  }\n  if(options.toolbar.slice(-1) === '|') {\n    options.toolbar = options.toolbar.slice(0, -1);\n  }\n\n  // opzioni link\n  // https://ckeditor.com/docs/ckeditor5/latest/features/link.html\n  options.link = {\n\n    addTargetToExternalLinks: loader_opts.link_auto_ext_target_blank, // target _blank automatico per url esterni\n    decorators: {}\n  };\n\n  if(loader_opts.link_download) {\n    options.link.decorators.toggleDownloadable = {\n      mode: 'manual',\n      label: 'Download',\n      attributes: {\n        download: 'download'\n      }\n    };\n  }\n  if(loader_opts.link_target_blank) {\n    options.link.decorators.openInNewTab = {\n      mode: 'manual',\n      label: 'Apri in nuova finestra',\n      defaultValue: false,\n      attributes: {\n        target: '_blank',\n        rel: 'noopener noreferrer'\n      }\n    };\n  }\n\n  return options;\n\n}\n","/*\n  text_utilities v. 2.0\n  Massimo Cassandro 2016-2020\n\n\n  TODO: title case parole con apostrofo -> DELL'AEROPORTO, ALL'APERTO\n*/\n\nconst particelle = [\n  'e', 'ed',\n  'di', 'a', 'da', 'in', 'per', 'con', 'su', 'per', 'tra', 'fra',\n  'il', 'lo', 'la', 'i', 'gli', 'le',\n  'un', 'uno', 'una',\n  'del', 'dello', 'della', 'dei', 'degli', 'delle',\n  'al', 'allo', 'alla', 'ai', 'agli', 'alle',\n  'dal', 'dallo', 'dalla', 'dai', 'dagli', 'dalle',\n  'nel', 'nello', 'nella', 'nei', 'negli', 'nelle',\n  'col', 'collo', 'colla', 'con', 'coi', 'cogli', 'colle',\n  'sul', 'sullo', 'sulla', 'sui', 'sugli', 'sulle',\n\n  // termini toponomastici e simili\n  'C.so', 'Corso', 'Via', 'P.za', 'Piazza', 'L.go', 'Largo', 'V.le', 'Viale',\n  'De', 'San', 'c/o', 'Loc.',\n\n  // inglese\n  'the', 'a', 'an', 'at', 'out', 'of',\n\n  // parole particolari usate nei geonames\n  'isola', 'isole'\n];\n\n// \"abbellisce\" un testo sistemando alcuni caratteri, spazi ecc.\nexport function better_text(str, custom_words = []) {\n  // custom_words: array di definizioni specifiche da trattare nella forma riportata\n  if(str) {\n    str = str.trim();\n\n    // punteggiatura ---- NB non mettere dopo i replace con entità HTML per conflitti con il carattere `;`\n    // (?!$): negative lookahead per ignorare i caratteri a fine stringa\n    str = str.replace(/ +(,|;|\\.|:|!|\\?)/g, '$1');\n    str = str.replace(/(,|;|\\.|:|!|\\?)(?!$) +/g, '$1 ');\n\n    // spazi o tabulazioni multiple\n    str = str.replace(/[ |\\t|\\u00A0]+/g, ' ');\n\n    //& commerciale\n    // str = str.replace(/& */gm, function (match) {\n    //   return match.replace(/&/g, '\\u0026').replace(/ +/g, '\\u00A0');\n    // });\n\n    // numeri romani\n    // if( /^[MDCLXVI]{3,}$/.test(word.toUpperCase()) ) {\n    //   return word.toUpperCase();\n    // }\n\n    // virgolette\n    str = str.replace(/(^| )\"/g, '$1\\u201C') // virgolette doppie in apertura\n      //.replace(/\"($| |[,\\.:;\\!\\?])/g, '\\u201D$1') // virgolette doppie in chiusura\n      .replace(/\"/g, '\\u201D') // tutte le rimanenti virgolette doppie in chiusura\n      .replace(/(^| )'/g, '$1\\u2018') // tutte le virgolette semplici in apertura\n      .replace(/'/g, '\\u2019')        // tutte le rimanenti virgolette semplici, compresi gli apostrofi\n    ;\n\n    // spazio dopo l'apostrofo preceduto da `l`, `un`, `d`, ecc...\n    str = str.replace(/((^| )(l|un|d|all|dell|nell|sull)('|’)) /gi, '$1' );\n\n    // aggiunta spazio non divisibile dopo articoli, preposizioni ecc.\n    // include anche alcune parole in altre lingue\n\n    var re = new RegExp('\\\\b(' + particelle.join('|') + ')\\\\b +', 'gmi');\n\n    str = str.replace(re, function (match) {\n      return match.replace(/ +/g, ' ');\n    });\n\n    particelle.forEach(term => {\n      const re = new RegExp('\\\\b(' + term + ')\\\\b', 'gmi');\n      str = str.replace(re, term);\n    });\n\n\n    if(custom_words.length) {\n      custom_words.forEach(item => {\n        str = str.replace(new RegExp(`\\\\b${item}\\\\b`, 'gi'), item);\n      });\n    }\n  } else {\n    str = '';\n  }\n  return str;\n}\n\n// imposta un testo in cui ogni parola è minuscola tranne la prima lettera\nexport function title_case(str) {\n\n  if(str) {\n\n    str = str.replace(/\\b(.)\\B(.*?)\\b/gi, (match, p1, p2) => {\n      return p1.toUpperCase() + p2.toLowerCase();\n    });\n    // non necessaria\n    /* .replace(/(?<=')(.)/g, (match, p1) => { //caratteri preceduti da virgolette singole\n      return p1.toUpperCase();\n    }); */\n  }\n\n  return str;\n} // end title_case\n\n// prima lettera maiuscola, il resto minuscolo\nexport function sentence_case(str) {\n  if(str) {\n    return  str.charAt(0).toUpperCase() + str.substr(1).toLowerCase();\n  }\n  return str;\n}\n\nexport function text_cleaner(str) {\n  // ripulisce una stringa di testo html dal markup indesiderato proveniente da copia&incolla da word\n\n  if(str) {\n    var _tags_to_remove = ['h1', 'h2', 'span', 'img', 'figure', 'figcaption', 'picture', 'script', 'font', 'div', 'blockquote',\n        'big', 'small', 'strike', 'u', 'tt', 'code',\n        'form', 'input', 'select', 'option', 'textarea', 'button', 'label', 'fieldset', 'legend', 'object',\n        'iframe', 'embed', 'center', 'o:p'\n      ],\n      _attrs_to_remove = ['style', 'align', 'id', 'class', 'valign', 'width', 'height', 'hspace', 'vspace',\n        'onclick', 'name', 'cellspacing', 'cellpadding', 'bgcolor'\n      ],\n\n      i, _regexp\n    ;\n\n    for(i = 0; i < _tags_to_remove.length; i++) {\n      _regexp = new RegExp('</?' + _tags_to_remove[i] + '(.*?)>', 'gi');\n      str = str.replace(_regexp, '');\n    }\n\n    for(i = 0; i < _attrs_to_remove.length; i++) {\n      _regexp = new RegExp(' ' + _attrs_to_remove[i] +'=(\"|\\')(.*?)(\"|\\')', 'gi');\n      str = str.replace(_regexp, '');\n    }\n\n    // attributi data\n    str = str.replace(/ data-(.*?)=(\"|')(.*?)(\"|')/gi, '');\n\n    return str.trim()\n      .replace(/^\"/g, '“')\n      .replace(/ \"/g, ' “')\n      .replace(/\"$/g, '”')\n      .replace(/\" /g, '” ')\n      .replace(/'/g, '’');\n  } else {\n    return '';\n  }\n}\n\n\nexport function nl2br(str) {\n\n  if(str) {\n\n    str = str.replace(/\\n|\\r\\n|\\r/gi, '<br/>');\n  }\n\n  return str;\n} // end nl2br\n","/* globals ClassicEditor */\n\nimport { create_custom_editor_options } from './js/create-custom-editor-options.js';\nimport { instance_setup } from './js/istance-setup.js';\n\nexport default function (loader_options) {\n\n  const  default_options = {\n\n    // selettori css e relativi file ckeditor da caricare. Gli script ckeditor sono esclusivi.\n    // Se è necessario usare editor con diverse configurazioni nella stessa pagina, usare sempre il custom\n    // selettore => path file ckeditor da caricare\n    std_selectors: {},\n\n    custom_editor_selector: 'editor-custom',\n    custom_editor_url: null,\n\n    upl_url: '/ckeditor/file-uploader',\n    img_viewer: '/viewer/',  // (visualizzaione dei file da db, NB: con slash finale)\n\n    link_auto_ext_target_blank: false,\n    link_download: false,\n    link_target_blank: false\n  };\n\n  let opts = Object.assign({}, default_options, loader_options || {});\n\n  try {\n\n    const std_selectors_list = Object.keys(opts.std_selectors)\n      ,full_selector_list = [...std_selectors_list, ...(opts.custom_editor_selector? [opts.custom_editor_selector] : [])]\n      ,editors_list = document.querySelectorAll(full_selector_list.map(i => `textarea.${i}`).join(','))\n    ;\n\n\n\n    if (editors_list.length) {\n\n\n      // Istanza ckeditor.\n      // L'istanza è raggiungibile tramite il suo id (se non esiste viene assegnato un id univoco)\n      // es: ckeditor_instances.__textarea_id__\n      window.ckeditor_instances = {};\n      let editor_create_options = {};\n      let isCustomEditor = false;\n      let cke_url;\n\n\n      if(opts.custom_editor_selector && !opts.custom_editor_url) {\n        throw 'Missing `custom_editor_url`';\n      }\n\n\n      // selezione script\n      if(document.querySelectorAll(`.${opts.custom_editor_selector}`).length) {\n        cke_url = opts.custom_editor_url;\n        isCustomEditor = true;\n      }\n\n      if(!isCustomEditor) {\n        if(!std_selectors_list.length) {\n          throw 'Missing selectors';\n\n        } else {\n          for(let selector in std_selectors_list) {\n            if(document.querySelectorAll(`.${selector}`).length) {\n              cke_url = opts.std_selectors[selector];\n              break;\n            }\n          }\n        }\n      }\n\n      const script = document.createElement('script');\n      script.onload = function() {\n\n        editors_list.forEach( dom_element => {\n\n          if(isCustomEditor) {\n            editor_create_options = create_custom_editor_options(dom_element, opts);\n          }\n          ClassicEditor.create( dom_element, editor_create_options)\n            .then( editor => {\n              instance_setup(dom_element, editor);\n            })\n            .catch( error => {\n              /* eslint-disable */\n              console.error(`textarea#${dom_element.id}`);\n              console.error(error);\n              /* eslint-enable */\n            });\n        }); // end foreach\n      }; // end onload\n\n      script.src = cke_url;\n      document.head.appendChild(script);\n\n\n    } // end if( editor_list.length\n\n  } catch(e) {\n    console.error( e ); // eslint-disable-line\n  }\n\n}\n","import cke_loader from '../../../src/ckeditor-loader.js';\nimport cke_form_check from '../../../src/ckeditor-form-check.js';\n\n/* globals ckeditor_instances */\n\n\ncke_loader({\n  std_selectors: {\n    // 'editor-std': '/libs/ckeditor-std.js',\n    // 'editor-full': '/libs/ckeditor-full.js',\n  },\n  custom_editor_selector: 'editor-custom',\n  custom_editor_url: '/ckeditor-dist/ckeditor-custom-min.js',\n  upl_url: 'test-files/test-server-upload-response.php', // relative to html file\n  img_viewer: '',\n  link_auto_ext_target_blank: true,\n  link_download: true,\n  link_target_blank: true\n});\n\ncke_form_check({\n  requiredErrorMes: requiredElement => {\n    return `L'elemento ${requiredElement} è obbligatorio`;\n  },\n\n  alertUI: mes => {\n    // document.querySelectorAll('[type=submit]').forEach(item => { item.disabled=false; });\n    alert(mes);\n  }\n});\n\n\n// UTILITÀ PER TEST\ndocument.querySelectorAll('.get-data-btn').forEach(item => {\n  item.addEventListener('click', () => {\n\n    let textarea_id = item.closest('.demo_wrapper').querySelector('textarea').id,\n      cke_data = ckeditor_instances[textarea_id].getData();\n    item.nextElementSibling.innerHTML = cke_data\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n    console.log(cke_data); // eslint-disable-line\n  }, false);\n});\n\ndocument.getElementById('start-inspector').addEventListener('click', function () {\n  // document.querySelectorAll('textarea.editor-custom').forEach(item => {\n  //   CKEditorInspector.attach( ckeditor_instances[item.id] );\n  // });\n  // this.remove();\n  alert('CKEditorInspector non abilitato');\n}, false);\n\n","import { better_text, text_cleaner, unique_id } from '@massimo-cassandro/js-utilities';\n\nexport function instance_setup(dom_element, editor) { // editor = istanza ckeditor\n\n  // https://ckeditor.com/docs/ckeditor5/latest/framework/deep-dive/clipboard.html\n  editor.editing.view.document.on( 'clipboardInput', ( evt, data ) => {\n\n    let text = data.dataTransfer.getData( 'text/html' );\n\n    text = text\n      .trim()\n      // pulizia spazi non divisibili\n      .replace(/(&nbsp;)/g, ' ')\n      .replace(/(&#160;)/g, ' ')\n      .replaceAll(String.fromCharCode(160), ' ')\n      // .replace(/\\u00A0/g, ' ')\n      .replace(/ +/g, ' ')\n      .replace(/(<h\\d>)<strong>(.*?)<\\/strong>(<\\/h\\d>) /igm, '$1$2$3'); // strong dentro gli header\n\n    text = better_text(text_cleaner(text));\n\n    data.content = editor.data.htmlProcessor.toView( text );\n\n  }); // end on clipboardInput\n\n  if(dom_element.disabled) {\n    editor.isReadOnly = true;\n  }\n  if( !dom_element.id ) {\n    dom_element.id = unique_id();\n  }\n  window.ckeditor_instances??= {};\n  window.ckeditor_instances[dom_element.id] = editor;\n\n  // abilita eventuali elementi disabilitati con attributo `data-enable=\"editor\"`\n  document.querySelectorAll('[data-enable=\"editor\"]:disabled').forEach( el => {\n    el.disabled = false;\n    el.closest('.form-group').classList.remove('disabled');\n  });\n\n}\n","// import uniqid from '@massimo-cassandro/m-utilities/js-utilities/unique-id';\n\nexport default function () {\n  return '_' + Number(Math.round(Math.random() * Date.now())).toString(36);\n}\n","/* global ckeditor_instances */\n\n\nexport default function (options) {\n\n  const default_options = {\n    selectors: ['editor-std', 'editor-full', 'editor-custom'],\n    requiredErrorMes: requiredElement => {\n      return `L'elemento ${requiredElement} è obbligatorio`;\n    },\n    alertUI: mes => {\n      alert(mes);\n    }\n  };\n\n  let cke_opts = Object.assign({}, default_options, options || {}),\n\n    editor_textareas = document.querySelectorAll(cke_opts.selectors.map(i => `textarea.${i}`).join(',')),\n    editors_required = document.querySelectorAll(cke_opts.selectors.map(i => `textarea.${i}[required]`).join(','));\n\n\n  // CAMPI REQUIRED\n  //=========================\n  /*\n    metodo per il controllo dei textarea required.\n    Il controllo va eseguito in due step:\n    - censimento dei campi required ed eliminazione dell'attributo\n      relativo per evitare errori al submit del form\n    - Al momento del submit, i campi required sono controllati\n      perché non siano vuoti (necessario farlo dopo il trim)\n\n    È necessario che ogni textarea abbia un id\n  */\n  editors_required.forEach(item => {\n    item.required = false;\n    item.parentNode.querySelector('label').classList.add('required');\n  });\n\n  document.querySelectorAll('form').forEach(_form => {\n\n    _form.onsubmit = (e) => {\n\n      // pulizia\n      editor_textareas.forEach(item => {\n\n        let editor = ckeditor_instances[item.id],\n          cke_data = editor.getData();\n\n        cke_data = cke_data\n          .trim()\n          // strong dentro gli header\n          .replace(/(<h\\d>)<strong>(.*?)<\\/strong>(<\\/h\\d>) /igm, '$1$2$3')\n          // paragrafi vuoti all'inizio\n          .replace(/^((<p>&nbsp;<\\/p>)+)/igm, '')\n          // paragrafi vuoti alla fine\n          .replace(/((<p>&nbsp;<\\/p>)+)$/igm, '')\n        ;\n        // https://ckeditor.com/docs/ckeditor5/latest/api/module_editor-classic_classiceditor-ClassicEditor.html#function-setData\n\n        if(cke_data.toLowerCase() === '<p>&nbsp;</p>') {\n          cke_data = '';\n        }\n\n        editor.setData( cke_data );\n        // editor.updateSourceElement(cke_data);\n        item.value = cke_data;\n      });\n\n      // required\n      editors_required.forEach(item => {\n        if(!item.value) {\n          cke_opts.alertUI(cke_opts.requiredErrorMes(item.id));\n          e.preventDefault();\n          return false;\n        }\n      });\n    };\n\n  });\n\n}\n"],"names":["std_toolbar","lite_toolbar","xlite_toolbar","xxlite_toolbar","xxxlite_toolbar","img_plugins","table_plugins","headings_plugins","particelle","loader_options","opts","Object","assign","std_selectors","custom_editor_selector","custom_editor_url","upl_url","img_viewer","link_auto_ext_target_blank","link_download","link_target_blank","std_selectors_list","keys","full_selector_list","editors_list","document","querySelectorAll","map","i","join","length","window","ckeditor_instances","cke_url","editor_create_options","isCustomEditor","selector","script","createElement","onload","forEach","dom_element","loader_opts","options","uploaderUrl","uploadMaxSize","imgViewer","toolbar","dataset","ckeUplMaxSize","classList","contains","removePlugins","concat","filter","item","slice","link","addTargetToExternalLinks","decorators","toggleDownloadable","mode","label","attributes","download","openInNewTab","defaultValue","target","rel","create_custom_editor_options","ClassicEditor","create","then","editor","editing","view","on","evt","data","text","dataTransfer","getData","trim","replace","replaceAll","String","fromCharCode","str","custom_words","re","RegExp","match","term","better_text","_regexp","_tags_to_remove","_attrs_to_remove","text_cleaner","content","htmlProcessor","toView","disabled","isReadOnly","id","Number","Math","round","random","Date","now","toString","el","closest","remove","instance_setup","catch","error","console","src","head","appendChild","e","cke_loader","default_options","selectors","requiredErrorMes","requiredElement","alertUI","mes","alert","cke_opts","editor_textareas","editors_required","required","parentNode","querySelector","add","_form","onsubmit","cke_data","toLowerCase","setData","value","preventDefault","cke_form_check","addEventListener","textarea_id","nextElementSibling","innerHTML","log","getElementById"],"mappings":"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","x_google_ignoreList":[1,5]}