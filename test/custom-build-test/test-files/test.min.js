!function(){"use strict";const e=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","imageUpload","blockQuote","insertTable","undo","redo"],t=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","blockQuote","insertTable","undo","redo"],l=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","blockQuote","undo","redo"],o=["bold","italic","link","|","alignment:left","alignment:center","alignment:right","|","undo","redo"],r=["bold","italic","link"],a=["mUploadAdapter","ImageUpload","Image","ImageToolbar","ImageStyle","ImageUpload","ImageCaption","ImageResize"],i=["insertTable","Table","TableToolbar","TableProperties","TableCellProperties"],n=["Heading"],c=["e","ed","di","a","da","in","per","con","su","per","tra","fra","il","lo","la","i","gli","le","un","uno","una","del","dello","della","dei","degli","delle","al","allo","alla","ai","agli","alle","dal","dallo","dalla","dai","dagli","dalle","nel","nello","nella","nei","negli","nelle","col","collo","colla","con","coi","cogli","colle","sul","sullo","sulla","sui","sugli","sulle","C.so","Corso","Via","P.za","Piazza","L.go","Largo","V.le","Viale","De","San","c/o","Loc.","the","a","an","at","out","of","isola","isole"];!function(s){let d=Object.assign({},{std_selectors:{},custom_editor_selector:"editor-custom",custom_editor_url:null,upl_url:"/ckeditor/file-uploader",img_viewer:"/viewer/",link_auto_ext_target_blank:!1,link_download:!1,link_target_blank:!1},{std_selectors:{},custom_editor_selector:"editor-custom",custom_editor_url:"/ckeditor-dist/ckeditor-custom-min.js",upl_url:"test-files/test-server-upload-response.php",img_viewer:"",link_auto_ext_target_blank:!0,link_download:!0,link_target_blank:!0}||{});try{const s=Object.keys(d.std_selectors),u=[...s,...d.custom_editor_selector?[d.custom_editor_selector]:[]],g=document.querySelectorAll(u.map((e=>`textarea.${e}`)).join(","));if(g.length){window.ckeditor_instances={};let u,m={},p=!1;if(d.custom_editor_selector&&!d.custom_editor_url)throw"Missing `custom_editor_url`";if(document.querySelectorAll(`.${d.custom_editor_selector}`).length&&(u=d.custom_editor_url,p=!0),!p){if(!s.length)throw"Missing selectors";for(let e in s)if(document.querySelectorAll(`.${e}`).length){u=d.std_selectors[e];break}}const b=document.createElement("script");b.onload=function(){g.forEach((s=>{p&&(m=function(c,s){let d={uploaderUrl:s.upl_url,uploadMaxSize:4194304,imgViewer:s.img_viewer,toolbar:e};return c.dataset.ckeUplMaxSize&&(d.uploadMaxSize=c.dataset.ckeUplMaxSize),c.classList.contains("editor-lite")?d={toolbar:t,removePlugins:a}:c.classList.contains("editor-xlite")?d={toolbar:l,removePlugins:a.concat(i)}:c.classList.contains("editor-xxlite")?d={toolbar:o,removePlugins:a.concat(i,n,["BlockQuote","List","Indent","IndentBlock"])}:c.classList.contains("editor-xxxlite")&&(d={toolbar:r,removePlugins:a.concat(i,n,["BlockQuote","List","Indent","IndentBlock"])}),c.classList.contains("editor-no-headings")&&(d.toolbar=d.toolbar.filter((e=>"heading"!==e)),d.removePlugins=(d.removePlugins??[]).concat(n)),"|"===d.toolbar[0]&&(d.toolbar=d.toolbar.slice(1)),"|"===d.toolbar.slice(-1)&&(d.toolbar=d.toolbar.slice(0,-1)),d.link={addTargetToExternalLinks:s.link_auto_ext_target_blank,decorators:{}},s.link_download&&(d.link.decorators.toggleDownloadable={mode:"manual",label:"Download",attributes:{download:"download"}}),s.link_target_blank&&(d.link.decorators.openInNewTab={mode:"manual",label:"Apri in nuova finestra",defaultValue:!1,attributes:{target:"_blank",rel:"noopener noreferrer"}}),d}(s,d)),ClassicEditor.create(s,m).then((e=>{!function(e,t){t.editing.view.document.on("clipboardInput",((e,l)=>{let o=l.dataTransfer.getData("text/html");o=o.trim().replace(/(&nbsp;)/g," ").replace(/(&#160;)/g," ").replaceAll(String.fromCharCode(160)," ").replace(/ +/g," ").replace(/(<h\d>)<strong>(.*?)<\/strong>(<\/h\d>) /gim,"$1$2$3"),o=function(e,t=[]){if(e){e=(e=(e=(e=(e=(e=e.trim()).replace(/ +(,|;|\.|:|!|\?)/g,"$1")).replace(/(,|;|\.|:|!|\?)(?!$) +/g,"$1 ")).replace(/[ |\t|\u00A0]+/g," ")).replace(/(^| )"/g,"$1“").replace(/"/g,"”").replace(/(^| )'/g,"$1‘").replace(/'/g,"’")).replace(/((^| )(l|un|d|all|dell|nell|sull)('|’)) /gi,"$1");var l=new RegExp("\\b("+c.join("|")+")\\b +","gmi");e=e.replace(l,(function(e){return e.replace(/ +/g," ")})),c.forEach((t=>{const l=new RegExp("\\b("+t+")\\b","gmi");e=e.replace(l,t)})),t.length&&t.forEach((t=>{e=e.replace(new RegExp(`\\b${t}\\b`,"gi"),t)}))}else e="";return e}(function(e){if(e){var t,l,o=["h1","h2","span","img","figure","figcaption","picture","script","font","div","blockquote","big","small","strike","u","tt","code","form","input","select","option","textarea","button","label","fieldset","legend","object","iframe","embed","center","o:p"],r=["style","align","id","class","valign","width","height","hspace","vspace","onclick","name","cellspacing","cellpadding","bgcolor"];for(t=0;t<o.length;t++)l=new RegExp("</?"+o[t]+"(.*?)>","gi"),e=e.replace(l,"");for(t=0;t<r.length;t++)l=new RegExp(" "+r[t]+"=(\"|')(.*?)(\"|')","gi"),e=e.replace(l,"");return(e=e.replace(/ data-(.*?)=("|')(.*?)("|')/gi,"")).trim().replace(/^"/g,"“").replace(/ "/g," “").replace(/"$/g,"”").replace(/" /g,"” ").replace(/'/g,"’")}return""}(o)),l.content=t.data.htmlProcessor.toView(o)})),e.disabled&&(t.isReadOnly=!0),e.id||(e.id="_"+Number(Math.round(Math.random()*Date.now())).toString(36)),window.ckeditor_instances??={},window.ckeditor_instances[e.id]=t,document.querySelectorAll('[data-enable="editor"]:disabled').forEach((e=>{e.disabled=!1,e.closest(".form-group").classList.remove("disabled")}))}(s,e)})).catch((e=>{console.error(`textarea#${s.id}`),console.error(e)}))}))},b.src=u,document.head.appendChild(b)}}catch(e){console.error(e)}}(),function(e){const t={selectors:["editor-std","editor-full","editor-custom"],requiredErrorMes:e=>`L'elemento ${e} è obbligatorio`,alertUI:e=>{alert(e)}};let l=Object.assign({},t,e||{}),o=document.querySelectorAll(l.selectors.map((e=>`textarea.${e}`)).join(",")),r=document.querySelectorAll(l.selectors.map((e=>`textarea.${e}[required]`)).join(","));r.forEach((e=>{e.required=!1,e.parentNode.querySelector("label").classList.add("required")})),document.querySelectorAll("form").forEach((e=>{e.onsubmit=e=>{o.forEach((e=>{let t=ckeditor_instances[e.id],l=t.getData();l=l.trim().replace(/(<h\d>)<strong>(.*?)<\/strong>(<\/h\d>) /gim,"$1$2$3").replace(/^((<p>&nbsp;<\/p>)+)/gim,"").replace(/((<p>&nbsp;<\/p>)+)$/gim,""),"<p>&nbsp;</p>"===l.toLowerCase()&&(l=""),t.setData(l),e.value=l})),r.forEach((t=>{if(!t.value)return l.alertUI(l.requiredErrorMes(t.id)),e.preventDefault(),!1}))}}))}({requiredErrorMes:e=>`L'elemento ${e} è obbligatorio`,alertUI:e=>{alert(e)}}),document.querySelectorAll(".get-data-btn").forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest(".demo_wrapper").querySelector("textarea").id,l=ckeditor_instances[t].getData();e.nextElementSibling.innerHTML=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),console.log(l)}),!1)})),document.getElementById("start-inspector").addEventListener("click",(function(){alert("CKEditorInspector non abilitato")}),!1)}();
//# sourceMappingURL=test.min.js.map
