!function(){"use strict";const e=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","imageUpload","blockQuote","insertTable","undo","redo"],t=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","blockQuote","insertTable","undo","redo"],l=["heading","|","bold","italic","link","|","alignment:left","alignment:center","alignment:right","alignment:justify","|","outdent","indent","|","bulletedList","numberedList","|","blockQuote","undo","redo"],o=["bold","italic","link","|","alignment:left","alignment:center","alignment:right","|","undo","redo"],a=["bold","italic","link"],r=["mUploadAdapter","ImageUpload","Image","ImageToolbar","ImageStyle","ImageUpload","ImageCaption","ImageResize"],i=["insertTable","Table","TableToolbar","TableProperties","TableCellProperties"],n=["Heading"],c=["e","ed","di","a","da","in","per","con","su","per","tra","fra","il","lo","la","i","gli","le","un","uno","una","del","dello","della","dei","degli","delle","al","allo","alla","ai","agli","alle","dal","dallo","dalla","dai","dagli","dalle","nel","nello","nella","nei","negli","nelle","col","collo","colla","con","coi","cogli","colle","sul","sullo","sulla","sui","sugli","sulle","C.so","Corso","Via","P.za","Piazza","L.go","Largo","V.le","Viale","De","San","c/o","Loc.","the","a","an","at","out","of","isola","isole"];!function(d){let s=Object.assign({},{selectors:{"editor-std":"/libs/ckeditor-std.js","editor-full":"/libs/ckeditor-full.js","editor-custom":"/libs/ckeditor-custom-min.js"},upl_url:"/ckeditor/file-uploader",img_viewer:"/viewer/",link_auto_ext_target_blank:!1,link_download:!1,link_target_blank:!1},{cke_url:"../ckeditor-dist/ckeditor-custom-min.js",selectors:{"editor-custom":"/ckeditor-dist/ckeditor-custom-min.js"},upl_url:"test-files/test-server-upload-response.php",img_viewer:"",link_auto_ext_target_blank:!0,link_download:!0,link_target_blank:!0}||{});const g=document.querySelectorAll(Object.keys(s.selectors).map((e=>`textarea.${e}`)).join(", "));if(g.length){window.ckeditor_instances={};let d,u={},p=!1;document.querySelectorAll(".editor-std").length?d=s.selectors["editor-std"]:document.querySelectorAll(".editor-full").length?d=s.selectors["editor-full"]:(d=s.selectors["editor-custom"],p=!0);const m=document.createElement("script");m.onload=function(){g.forEach((d=>{p&&(u=function(c,d){let s={uploaderUrl:d.upl_url,uploadMaxSize:4194304,imgViewer:d.img_viewer,toolbar:e};return c.dataset.ckeUplMaxSize&&(s.uploadMaxSize=c.dataset.ckeUplMaxSize),c.classList.contains("editor-lite")?s={toolbar:t,removePlugins:r}:c.classList.contains("editor-xlite")?s={toolbar:l,removePlugins:r.concat(i)}:c.classList.contains("editor-xxlite")?s={toolbar:o,removePlugins:r.concat(i,n,["BlockQuote","List","Indent","IndentBlock"])}:c.classList.contains("editor-xxxlite")&&(s={toolbar:a,removePlugins:r.concat(i,n,["BlockQuote","List","Indent","IndentBlock"])}),c.classList.contains("editor-no-headings")&&(s.toolbar=s.toolbar.filter((e=>"heading"!==e)),s.removePlugins=(s.removePlugins??[]).concat(n)),"|"===s.toolbar[0]&&(s.toolbar=s.toolbar.slice(1)),"|"===s.toolbar.slice(-1)&&(s.toolbar=s.toolbar.slice(0,-1)),s.link={addTargetToExternalLinks:d.link_auto_ext_target_blank,decorators:{}},d.link_download&&(s.link.decorators.toggleDownloadable={mode:"manual",label:"Download",attributes:{download:"download"}}),d.link_target_blank&&(s.link.decorators.openInNewTab={mode:"manual",label:"Apri in nuova finestra",defaultValue:!1,attributes:{target:"_blank",rel:"noopener noreferrer"}}),s}(d,s)),ClassicEditor.create(d,u).then((e=>{!function(e,t){t.editing.view.document.on("clipboardInput",((e,l)=>{let o=l.dataTransfer.getData("text/html");o=o.trim().replace(/(&nbsp;)/g," ").replace(/(&#160;)/g," ").replaceAll(String.fromCharCode(160)," ").replace(/ +/g," ").replace(/(<h\d>)<strong>(.*?)<\/strong>(<\/h\d>) /gim,"$1$2$3"),o=function(e,t=[]){if(e){e=(e=(e=(e=(e=(e=e.trim()).replace(/ +(,|;|\.|:|!|\?)/g,"$1")).replace(/(,|;|\.|:|!|\?)(?!$) +/g,"$1 ")).replace(/[ |\t|\u00A0]+/g," ")).replace(/(^| )"/g,"$1“").replace(/"/g,"”").replace(/(^| )'/g,"$1‘").replace(/'/g,"’")).replace(/((^| )(l|un|d|all|dell|nell|sull)('|’)) /gi,"$1");var l=new RegExp("\\b("+c.join("|")+")\\b +","gmi");e=e.replace(l,(function(e){return e.replace(/ +/g," ")})),c.forEach((t=>{const l=new RegExp("\\b("+t+")\\b","gmi");e=e.replace(l,t)})),t.length&&t.forEach((t=>{e=e.replace(new RegExp(`\\b${t}\\b`,"gi"),t)}))}else e="";return e}(function(e){if(e){var t,l,o=["h1","h2","span","img","figure","figcaption","picture","script","font","div","blockquote","big","small","strike","u","tt","code","form","input","select","option","textarea","button","label","fieldset","legend","object","iframe","embed","center","o:p"],a=["style","align","id","class","valign","width","height","hspace","vspace","onclick","name","cellspacing","cellpadding","bgcolor"];for(t=0;t<o.length;t++)l=new RegExp("</?"+o[t]+"(.*?)>","gi"),e=e.replace(l,"");for(t=0;t<a.length;t++)l=new RegExp(" "+a[t]+"=(\"|')(.*?)(\"|')","gi"),e=e.replace(l,"");return(e=e.replace(/ data-(.*?)=("|')(.*?)("|')/gi,"")).trim().replace(/^"/g,"“").replace(/ "/g," “").replace(/"$/g,"”").replace(/" /g,"” ").replace(/'/g,"’")}return""}(o)),l.content=t.data.htmlProcessor.toView(o)})),e.disabled&&(t.isReadOnly=!0),e.id||(e.id="_"+Number(Math.round(Math.random()*Date.now())).toString(36)),window.ckeditor_instances??={},window.ckeditor_instances[e.id]=t,document.querySelectorAll('[data-enable="editor"]:disabled').forEach((e=>{e.disabled=!1,e.closest(".form-group").classList.remove("disabled")}))}(d,e)})).catch((e=>{console.error(`textarea#${d.id}`),console.error(e)}))}))},m.src=d,document.head.appendChild(m)}}(),function(e){const t={selectors:["editor-std","editor-full","editor-custom"],requiredErrorMes:e=>`L'elemento ${e} è obbligatorio`,alertUI:e=>{alert(e)}};let l=Object.assign({},t,e||{}),o=document.querySelectorAll(l.selectors.map((e=>`textarea.${e}`)).join(",")),a=document.querySelectorAll(l.selectors.map((e=>`textarea.${e}[required]`)).join(","));a.forEach((e=>{e.required=!1,e.parentNode.querySelector("label").classList.add("required")})),document.querySelectorAll("form").forEach((e=>{e.onsubmit=e=>{o.forEach((e=>{let t=ckeditor_instances[e.id],l=t.getData();l=l.trim().replace(/(<h\d>)<strong>(.*?)<\/strong>(<\/h\d>) /gim,"$1$2$3").replace(/^((<p>&nbsp;<\/p>)+)/gim,"").replace(/((<p>&nbsp;<\/p>)+)$/gim,""),"<p>&nbsp;</p>"===l.toLowerCase()&&(l=""),t.setData(l),e.value=l})),a.forEach((t=>{if(!t.value)return l.alertUI(l.requiredErrorMes(t.id)),e.preventDefault(),!1}))}}))}({requiredErrorMes:e=>`L'elemento ${e} è obbligatorio`,alertUI:e=>{alert(e)}}),document.querySelectorAll(".get-data-btn").forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest(".demo_wrapper").querySelector("textarea").id,l=ckeditor_instances[t].getData();e.nextElementSibling.innerHTML=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),console.log(l)}),!1)})),document.getElementById("start-inspector").addEventListener("click",(function(){alert("CKEditorInspector non abilitato")}),!1)}();
//# sourceMappingURL=test.min.js.map
